% This file is part of Berichte-Ork.
%
% Berichte-Ork is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% Berichte-Ork is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You should have received a copy of the GNU General Public License
% along with Berichte-Ork.  If not, see <http://www.gnu.org/licenses/>.
%
% Copyright (C) André Hänsel, 2009
%
% Authors: André Hänsel <haensel@creations.de>
%          Sven Grunewaldt <strayer@olle-orks.org>

% \batchmode

\hoffset=-0.5in
\voffset=-1in

\font\standard="Arial Unicode MS" at 10pt
\font\standardSmall="Arial Unicode MS" at 8pt


\vsize = 220mm
\hsize = 150mm
\parindent = 0pt

\count0 = 1

\def\bild #1{%
	\hbox to0pt{\vbox to0pt{%
	\special{pdf:image scale 0.25 (#1)}
	\vss}\hss%
}}

\def\item #1\par{\setbox1=\hbox{➨\hskip3dd}\setbox2=\hbox{\hskip\wd1‣\hskip3dd}
	\hangindent=\wd2\hangafter=1\leavevmode\box2 #1 \par}

\def\subCat #1\par{\setbox1=\hbox{➨\hskip3dd}
	\hangindent=\wd1\hangafter=1\leavevmode\box1 #1 \par}

\def\kiste #1#2 {%
	\vbox{\hrule\hbox{\hbox to 0pt{\setbox1=\vbox{\vskip3pt#1\vskip3pt}\dimen1=\hsize\advance\dimen1 by 6pt\special{pdf:bcolor .9}\vrule width\dimen1 height\ht1\special{pdf:ecolor}\hss}\vrule\kern3pt\vbox{\vskip3pt#1\vskip3pt}\kern3pt\vrule}\hrule\hbox{\vrule\kern3pt\vbox{\kern3pt#2\kern3pt}\kern3pt\vrule}\hrule\vskip.5cm}
}

\def\wochentrenner #1#2 {{    % Das zweite Paar Klammern macht die Boxen lokal
	\vskip.6cm%
	\dimen2 = 5pt                 % Abstand zwischen Linie und Inhalt
	\setbox1=\hbox{Jahr #1 \raise3.1pt\hbox{\vrule width10pt height.4pt} Kalenderwoche #2}
	\dimen1=\hsize
	\advance\dimen1 by 6pt        % Gleicht die zusätzliche Breite aus, die die Kisten durch die Abstände bekommen
	\advance\dimen1 by 0.8pt      % Gleicht die zusätzliche Breite aus, die die Kisten durch die Liniendicken bekommen
	\advance\dimen1 by -\wd1
	\dimen1 = .5\dimen1
	\advance\dimen1 by -\dimen2
	\hbox{\raise3.1pt\hbox{\vrule width\dimen1 height.4pt}\hskip\dimen2 \copy1 \hskip\dimen2 \raise3.1pt\hbox{\vrule width\dimen1 height.4pt}}
	\vskip.3cm%
}}

\output={%
	\shipout\vbox to 297mm{%
		\vskip 15mm%
		\hbox to 210mm{%
			\hskip 25mm%
			\vbox to 257mm{%
				\hbox to 150mm{\vbox to 1.59cm{\vfill\hbox to 4.62cm{\bild{creations_fuer_wochenberichte.jpg}\hfill}}\hfill\vbox to 1.59cm{\vskip11pt\hbox{\hbox to 12mm{Name:\hfill}___trainee___}\hbox{\hbox to 12mm{Firma:\hfill}___company___}\hbox{\hbox to 12mm{Seite:\hfill}\the\count0}\vfill}}%
				\unvbox255%
				\vfill%
				\hbox to 160mm{%
					\hfill%
					\vbox{%
						\hsize=60mm%
						\hbox{\standardSmall\signDate}%
						\vskip 1mm%
						\hrule depth 0.2pt height 0.2pt%
						\vskip 2mm%
						\centerline{___trainee___}%
					}%
					\hfill%
					\vbox{
						\hsize=60mm%
						\hbox{\standardSmall\signDate}%
						\vskip 1mm
						\hrule depth 0.2pt height 0.2pt%
						\vskip 2mm
						\centerline{___instructor___}
					}%
					\hfill%
				}%
			}%
			\hfill%
		}%
		\vfill%
	}%
	\global\advance\count0 by 1 % Automatisch funktioniert das wohl nur mit der Default-Output-Routine
}%

\standard \def\signDate{___signdate___}

___content___

\bye
